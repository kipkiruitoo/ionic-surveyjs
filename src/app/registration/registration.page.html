<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Register</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding #scrollArea scrollEvents="true" appScrollbar>

  <div [@flyInBottomFast]="cloudState" id="cloud-layer">

    <ion-row>
      <ion-col>
        <img [@flyInBottomSlow]="logoState" src="assets/img/Design_icon-removebg-preview.png" />
      </ion-col>
    </ion-row>

    <ion-row class="mid-row">
      <ion-col>
        <ion-list inset>

          <form [formGroup]="registerForm">
            <ion-item lines="inset">
              <ion-icon slot="start" name="person-circle-outline"></ion-icon>
              <ion-input type="text" formControlName="name" placeholder="Username" required></ion-input>
            </ion-item>
            <ion-item *ngIf="!registerForm.controls.name.valid  && (registerForm.controls.name.dirty)">
              <p class="error">Please enter a valid name.</p>
            </ion-item>

            <ion-item lines="inset">
              <ion-icon slot="start" name="mail-outline"></ion-icon>
              <ion-input type="email" formControlName="email" placeholder="Email" required></ion-input>
            </ion-item>
            <ion-item *ngIf="!registerForm.controls.email.valid  && (registerForm.controls.email.dirty)">
              <p class="error">Please enter a valid email.</p>
            </ion-item>

            <ion-item lines="inset">
              <ion-icon slot="start" name="flag-outline"></ion-icon>
                <ionic-selectable [(ngModel)]="country" formControlName="country" itemValueField="name" itemTextField="name"
                  [items]="countries" [canSearch]="true" (onChange)="portChange($event)">
                </ionic-selectable>

            </ion-item>
            <ion-item *ngIf="!registerForm.controls.country.valid  && (registerForm.controls.country.dirty)">
              <p class="error">Please select a country.</p>
            </ion-item>

            <ion-item lines="inset">
              <ion-icon slot="start" name="call-outline"></ion-icon>
              <ion-input type="tel" formControlName="phone" placeholder="Phone Number 720XXXXXX" required></ion-input>
            </ion-item>
            <ion-item *ngIf="!registerForm.controls.phone.valid  && (registerForm.controls.phone.dirty)">
              <p class="error">Please enter a valid phone number.</p>
            </ion-item>

            <ion-item lines="inset">
              <ion-icon slot="start" name="key-outline"></ion-icon>
              <ion-input type="password" formControlName="password" placeholder="Password" [type]="passwordType"
                required clearOnEdit="false"></ion-input>
              <ion-icon slot="end" [name]="passwordIcon" class="passwordIcon" (click)='hideShowPassword()'></ion-icon>
            </ion-item>
            <ion-item *ngIf="!registerForm.controls.password.valid  && (registerForm.controls.password.dirty)">
              <p class="error">Please enter a valid password.</p>
            </ion-item>

            <ion-item lines="inset">
              <ion-icon slot="start" name="key-outline"></ion-icon>
              <ion-input type="password" formControlName="confirm_password" placeholder="Confirm Password"
                [type]="passwordType" required clearOnEdit="false"></ion-input>
              <ion-icon slot="end" [name]="passwordIcon" class="passwordIcon" (click)='hideShowPassword()'></ion-icon>
            </ion-item>
            <ion-item
              *ngIf="!registerForm.controls.confirm_password.valid  && (registerForm.controls.confirm_password.dirty)">
              <p class="error">Passwords do not match.</p>
            </ion-item>

          </form>
          <ion-row class="bottomRow">
            <ion-col>
              <ion-button type="submit" color="warning" class="login-button" (click)="signup()" expand="block">Sign Up
              </ion-button><br>
              <a [routerLink]="['/login']"  class="small-text center-any-object">Have an Account? Sign
                In</a>
            </ion-col>
          </ion-row>

        </ion-list>
      </ion-col>
    </ion-row>

  </div>

</ion-content>